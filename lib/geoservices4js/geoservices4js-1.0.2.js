var geoservices=geoservices||{};
geoservices.Bounds=geoservices.Bounds||function(){return function(){var d={},a=null,c=null;d.isEmpty=function(){return null===a};d.getNorthEast=function(){return a};d.getSouthWest=function(){return c};d.extend=function(b){d.isEmpty()?(a={lat:b.lat,lng:b.lng},c={lat:b.lat,lng:b.lng}):(a.lat=Math.max(a.lat,b.lat),a.lng=Math.max(a.lng,b.lng),c.lat=Math.min(c.lat,b.lat),c.lng=Math.min(c.lng,b.lng))};d.contains=function(b){return!d.isEmpty()&&b.lat<=a.lat&&b.lng<=a.lng&&b.lat>=c.lat&&b.lng>=c.lng};return d}()};geoservices=geoservices||{};
geoservices.Client=geoservices.Client||function(d){return function(a){var a=a||{},c=a.apiUrl||"https://geoservices.openrest.com/v1.1",b={request:function(e){e=e||{};geoservices.Protocol.post({url:c,obj:e.request||null,callback:e.callback||function(){}})},geocode:function(e){var c=e.callback||function(){},a=e.params||{};b.request({request:{type:"geocode",locale:a.locale||null,query:a.query||null},callback:function(b){c({params:e,response:b})}})},search:function(e){var c=e.callback||function(){},a=
e.params||{};b.request({request:{type:"search",locale:a.locale||null,country:a.country||null,locality:a.locality||null,query:a.query||null},callback:function(a){c({params:e,response:a})}})}};return b}(d)};geoservices=geoservices||{};geoservices.Polygon=geoservices.Polygon||function(d){return function(a){var a=a||{},c=a.points||null,b={getBounds:function(){for(var a=new geoservices.Bounds,b=0,d=c.length;b<d;++b)a.extend(c[b]);return a},contains:function(a){if(!b.getBounds().contains(a))return!1;for(var d=!1,h=0,j=c.length,f=j-1;h<j;++h){var g=c[h],f=c[f];if(g.lng<a.lng&&f.lng>=a.lng||f.lng<a.lng&&g.lng>=a.lng)g.lat+(a.lng-g.lng)/(f.lng-g.lng)*(f.lat-g.lat)<a.lat&&(d=!d);f=h}return d}};return b}(d)};geoservices=geoservices||{};geoservices.Protocol=geoservices.Protocol||function(){return{post:function(d){var a=d.url,c=d.obj,b=d.callback||function(){},e=http.create({onload:function(){b(JSON.parse(e.responseText))},onerror:function(){b({error:{code:"protocol",message:"protocol error"}})},timeout:d.timeout||3E4});e.open("POST",a);e.setRequestHeader("Accept","application/json");e.setRequestHeader("Content-Type","application/json");e.send(JSON.stringify(c))}}}();geoservices=geoservices||{};geoservices.Utils=geoservices.Utils||function(){return{distance:function(d,a){var c=d.lat,b=a.lat,e=(b-c)*Math.PI/180,i=(a.lng-d.lng)*Math.PI/180,c=Math.sin(e/2)*Math.sin(e/2)+Math.cos(c*Math.PI/180)*Math.cos(b*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 1.27392575E7*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}}}();
